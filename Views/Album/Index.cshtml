@using Microsoft.Extensions.Configuration
@using LicentaApp.Models.ViewModels
@inject IConfiguration _configuration

@model IndexAlbumListViewModel
@{
    ViewData["Title"] = "Index Albums";
    var environment = _configuration.GetValue<string>("Environment");
    //var albumList = Model;
    var albumList = Model.Albums;
    var sortOrder = Model.SortOrder;
}
<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<div class="d-flex justify-content-between bd-highlight">
    <div class="d-flex align-items-center justify-content-between">
        <h1 class="text-muted">Albums</h1>
    </div>
    <div class="d-flex align-items-center justify-content-between">
        <span class="text-muted">
            @{
                if (sortOrder.Equals("name_asc"))
                {
                    <a id="sort_buttons" asp-controller="Album" asp-action="Index" asp-route-sortOrder="name_desc">
                        @*href="@Url.Action("Index","Artist",new {sortOrder = "name_desc"})"*@
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-sort-alpha-down-alt" viewBox="0 0 16 16">
                            <path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z" />
                            <path fill-rule="evenodd" d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z" />
                            <path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
                        </svg>
                    </a>
                }
                else
                {
                    <a id="sort_buttons" asp-controller="Album" asp-action="Index" asp-route-sortOrder="name_asc">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z" />
                            <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
                        </svg>
                    </a>
                }
            }
            @*<a>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z" />
                    <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
                </svg>

                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-sort-alpha-down-alt" viewBox="0 0 16 16">
                    <path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z" />
                    <path fill-rule="evenodd" d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z" />
                    <path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
                </svg>
            </a>*@
        </span>
    </div>
</div>

@foreach (var album in albumList)
{
    <div class="row justify-content-center py-4 g-0">
        <div class="col-4" id="image_col">
            <a class="nav-link active p-0" asp-controller="Album" asp-action="Album" asp-route-name="@album.Name">
                <img src="~/images/Albums/@(album.Name).jpg" id="artist-album_image">
            </a>
        </div>
        <div class="col-4 justify-content-center flex-column d-inline-flex">
            <a class="nav-link active p-0" asp-controller="Album" asp-action="Album" asp-route-name="@album.Name">
                <h1 class="text-center" id="link">
                    <i>
                        @album.Name
                    </i>
                </h1>
            </a>
            <a class="nav-link active p-0" asp-controller="Artist" asp-action="Artist" asp-route-name="@album.Artist">
                <h3 class="text-center" id="link">
                    <i>
                        @album.Artist
                    </i>
                </h3>
            </a>
            <a class="nav-link active p-0" asp-controller="Genre" asp-action="Genre" asp-route-name="@album.Genre">
                <h5 class="text-center" id="link">
                    <i>
                        @album.Genre
                    </i>
                </h5>
            </a>
        </div>
    </div>
}